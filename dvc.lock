schema: '2.0'
stages:
  preprocess:
    cmd: python -m dvc_workshop.pipeline.preprocess.preprocessing
    deps:
    - path: data/raw
      md5: c41654af7d89016d46ced4b188fa5b5f.dir
      size: 259792954
      nfiles: 7868
    - path: dvc_workshop/pipeline/preprocess
      md5: 857a96bf07f38dbacefd79245b43af14.dir
      size: 16792
      nfiles: 10
    params:
      dvc_workshop/params.py:
        PreprocessParams:
          LOWER_BOUND_COLOR:
          - 0
          - 0
          - 200
          UPPER_BOUND_COLOR:
          - 0
          - 0
          - 255
          THRESHOLD: 0.005
    outs:
    - path: data/preprocess
      md5: de13358474bbfad4cc9d762cfc1f2f0c.dir
      size: 258791798
      nfiles: 7855
  train:
    cmd: python -m dvc_workshop.pipeline.train.training
    deps:
    - path: data/preprocess
      md5: e8e53c69f1ca11b7ff9c076014fc33e4.dir
      size: 259126915
      nfiles: 7855
    - path: dvc_workshop/pipeline/train
      md5: 1bd1d12406c3500d6d130e24d2e859ec.dir
      size: 6415
      nfiles: 4
    params:
      dvc_workshop/params.py:
        ModelParams:
          IMAGE_HEIGHT: 256
          IMAGE_WIDTH: 256
          NUMBER_CHANNELS: 3
          POOLING: max
          ACTIVATION: sigmoid
          TOP: false
        TrainingParams:
          BACTH_SIZE: 32
          SEED: 42
          TRAINING_EPOCHS: 3
          TRAINING_LR: 0.001
          TUNING_EPOCHS: 1
          TUNING_LR: 1e-05
          PATIENCE: 5
    outs:
    - path: data/train/
      md5: c86657aa24de1589bd0725b47a4bb430.dir
      size: 79061461
      nfiles: 7
  evaluate:
    cmd: python -m dvc_workshop.pipeline.evaluate.evaluation
    deps:
    - path: data/preprocess
      md5: e8e53c69f1ca11b7ff9c076014fc33e4.dir
      size: 259126915
      nfiles: 7855
    - path: data/train
      md5: c86657aa24de1589bd0725b47a4bb430.dir
      size: 79061461
      nfiles: 7
    - path: dvc_workshop/pipeline/evaluate/
      md5: bc838bf8254deac9664e083a7fb55345.dir
      size: 2126
      nfiles: 4
    outs:
    - path: data/evaluate
      md5: bf0e088d1ab7c2471f9c420d5f384d35.dir
      size: 147
      nfiles: 1
  plot:
    cmd: python -m dvc_workshop.pipeline.plot.ploting
    deps:
    - path: data/train/train_history.csv
      md5: d79120d857cf2cfcfd091aa195b15795
      size: 561
    - path: dvc_workshop/pipeline/plot
      md5: 9c3dcffa48c52107a6ad282b9375f565.dir
      size: 3107
      nfiles: 4
    outs:
    - path: data/plot
      md5: d832e41fa9dd9c0b4d9d78b4d9009daf.dir
      size: 57446
      nfiles: 2
