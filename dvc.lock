schema: '2.0'
stages:
  preprocess:
    cmd: python -m dvc_workshop.pipeline.preprocess.preprocessing
    deps:
    - path: data/raw
      md5: c41654af7d89016d46ced4b188fa5b5f.dir
      size: 259792954
      nfiles: 7868
    - path: dvc_workshop/pipeline/preprocess
      md5: 3dc0de40c713947ef7b344a4553948fd.dir
      size: 20293
      nfiles: 10
    params:
      dvc_workshop/params.py:
        PreprocessParams:
          LOWER_BOUND_COLOR:
          - 0
          - 0
          - 200
          UPPER_BOUND_COLOR:
          - 0
          - 0
          - 255
          THRESHOLD: 0.005
    outs:
    - path: data/preprocess
      md5: a641fcf8f25a52000276cee27b2e39a0.dir
      size: 12338955
      nfiles: 7870
  train:
    cmd: python -m dvc_workshop.pipeline.train.training
    deps:
    - path: data/preprocess
      md5: a641fcf8f25a52000276cee27b2e39a0.dir
      size: 12338955
      nfiles: 7870
    - path: dvc_workshop/pipeline/train
      md5: 0b68bc11ef4a8c2a12882acded43149a.dir
      size: 10197
      nfiles: 8
    params:
      dvc_workshop/params.py:
        ModelParams:
          IMAGE_HEIGHT: 256
          IMAGE_WIDTH: 256
          NUMBER_CHANNELS: 3
          POOLING: max
          ACTIVATION: sigmoid
          TOP: false
        TrainingParams:
          BACTH_SIZE: 32
          SEED: 42
          TRAINING_EPOCHS: 1
          TRAINING_LR: 0.001
          TUNING_EPOCHS: 1
          TUNING_LR: 1e-05
          PATIENCE: 5
    outs:
    - path: data/train/
      md5: 727d8006f3214fb475e54ceba18bcec5.dir
      size: 3583907
      nfiles: 7
  evaluate:
    cmd: python -m dvc_workshop.pipeline.evaluate.evaluation
    deps:
    - path: data/preprocess
      md5: a641fcf8f25a52000276cee27b2e39a0.dir
      size: 12338955
      nfiles: 7870
    - path: data/train
      md5: 727d8006f3214fb475e54ceba18bcec5.dir
      size: 3583907
      nfiles: 7
    - path: dvc_workshop/pipeline/evaluate/
      md5: ae2dffb0960808143464bea8f55e4842.dir
      size: 4126
      nfiles: 8
    outs:
    - path: data/evaluate
      md5: 30626cec422ceda8e1c3c2b8aaa8600d.dir
      size: 109
      nfiles: 1
  plot:
    cmd: python -m dvc_workshop.pipeline.plot.ploting
    deps:
    - path: data/train/train_history.csv
      md5: 087b6cdbf9a84ab4732b2ebff625a49f
      size: 217
    - path: dvc_workshop/pipeline/plot
      md5: b2018908d64e98e5f184c8957cad5964.dir
      size: 8426
      nfiles: 8
    outs:
    - path: data/plot
      md5: 07df5ead78b64b27404a2532ec5c96f8.dir
      size: 126741
      nfiles: 1
