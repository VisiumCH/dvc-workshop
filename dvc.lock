schema: '2.0'
stages:
  preprocess:
    cmd: python -m dvc_workshop.pipeline.preprocess.preprocessing
    deps:
    - path: data/raw
      md5: c41654af7d89016d46ced4b188fa5b5f.dir
      size: 259792954
      nfiles: 7868
    - path: dvc_workshop/pipeline/preprocess
      md5: 5ce4b2b025b6bcff4360c277335be487.dir
      size: 7322
      nfiles: 5
    params:
      dvc_workshop/params.py:
        PreprocessParams:
          LOWER_BOUND_COLOR:
          - 0
          - 0
          - 200
          UPPER_BOUND_COLOR:
          - 0
          - 0
          - 255
          THRESHOLD: 0.005
    outs:
    - path: data/preprocessed
      md5: e8f2770219e6203b8dc7da337f9207c4.dir
      size: 259141423
      nfiles: 7855
  train:
    cmd: python -m dvc_workshop.pipeline.train.training
    deps:
    - path: data/preprocessed
      md5: e8f2770219e6203b8dc7da337f9207c4.dir
      size: 259141423
      nfiles: 7855
    - path: dvc_workshop/pipeline/train
      md5: 03cfcd1caff2ca70170f20309a0a8425.dir
      size: 5862
      nfiles: 4
    params:
      dvc_workshop/params.py:
        ModelParams:
          IMAGE_HEIGHT: 256
          IMAGE_WIDTH: 256
          NUMBER_CHANNELS: 3
          POOLING: max
          ACTIVATION: sigmoid
          TOP: false
        TrainingParams:
          BACTH_SIZE: 32
          SEED: 42
          TRAINING_EPOCHS: 3
          TRAINING_LR: 0.001
          TUNING_EPOCHS: 1
          TUNING_LR: 1e-05
          PATIENCE: 5
    outs:
    - path: models/
      md5: a51bb3a5fe302367399feebe6fef40c5.dir
      size: 79061748
      nfiles: 7
  evaluate:
    cmd: python -m dvc_workshop.pipeline.evaluate.evaluation
    deps:
    - path: data/preprocessed
      md5: e8f2770219e6203b8dc7da337f9207c4.dir
      size: 259141423
      nfiles: 7855
    - path: dvc_workshop/pipeline/evaluate/
      md5: cc4d64a5af1865b4c046aa9af907b626.dir
      size: 1628
      nfiles: 4
    - path: models/
      md5: a51bb3a5fe302367399feebe6fef40c5.dir
      size: 79061748
      nfiles: 7
    outs:
    - path: results/metrics
      md5: d7fe74d5174c16095e7202840b8ba49f.dir
      size: 146
      nfiles: 1
  plot:
    cmd: python -m dvc_workshop.pipeline.plot.ploting
    deps:
    - path: dvc_workshop/pipeline/plot
      md5: 4a3ac3d6576586dd55f5864a0a8c5877.dir
      size: 2165
      nfiles: 4
    - path: models/train_history.csv
      md5: 6ccb0dfe7d82b31c7083276ec3a41247
      size: 559
    outs:
    - path: results/plots
      md5: 6e1d5b972e4445e45f6ba6e6b6c6b70f.dir
      size: 57176
      nfiles: 2
