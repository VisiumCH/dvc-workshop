schema: '2.0'
stages:
  preprocess:
    cmd: python -m dvc_workshop.pipeline.preprocess.preprocessing
    deps:
    - path: data/raw
      md5: 0641ad08acb35ebe3040a4d3810f4859.dir
      size: 313484
      nfiles: 1001
    - path: dvc_workshop/pipeline/preprocess
      md5: cd4fb1e81c6424b45a70a514a7f042dc.dir
      size: 20536
      nfiles: 10
    params:
      dvc_workshop/params.py:
        PreprocessParams:
          LOWER_BOUND_COLOR:
          - 0
          - 0
          - 200
          UPPER_BOUND_COLOR:
          - 0
          - 0
          - 255
          THRESHOLD: 0.005
    outs:
    - path: data/preprocess
      md5: a6961568256878daf2d5f45cdce4a5ee.dir
      size: 666655
      nfiles: 1003
  train:
    cmd: python -m dvc_workshop.pipeline.train.training
    deps:
    - path: data/preprocess
      md5: a6961568256878daf2d5f45cdce4a5ee.dir
      size: 666655
      nfiles: 1003
    - path: dvc_workshop/pipeline/train
      md5: e048eca0ca29491e8004bc2d2f730e50.dir
      size: 10482
      nfiles: 8
    params:
      dvc_workshop/params.py:
        ModelParams:
          IMAGE_HEIGHT: 28
          IMAGE_WIDTH: 28
          COLOR_TYPE: grayscale
          NUMBER_CHANNELS: 1
          POOLING: max
          ACTIVATION: softmax
          TOP: false
        TrainingParams:
          BACTH_SIZE: 32
          SEED: 42
          TRAINING_EPOCHS: 30
          TRAINING_LR: 0.001
          TUNING_EPOCHS: 1
          TUNING_LR: 1e-05
          PATIENCE: 5
    outs:
    - path: data/train/
      md5: 44e3b3a63f067089db2cecf01b0a02cb.dir
      size: 1066843
      nfiles: 7
  evaluate:
    cmd: python -m dvc_workshop.pipeline.evaluate.evaluation
    deps:
    - path: data/preprocess
      md5: a6961568256878daf2d5f45cdce4a5ee.dir
      size: 666655
      nfiles: 1003
    - path: data/train
      md5: 44e3b3a63f067089db2cecf01b0a02cb.dir
      size: 1066843
      nfiles: 7
    - path: dvc_workshop/pipeline/evaluate/
      md5: e2dd5c834060f042328fa4543cde4048.dir
      size: 4126
      nfiles: 8
    outs:
    - path: data/evaluate
      md5: 400422da0387215b7d0a02ad88864ba3.dir
      size: 187
      nfiles: 1
  plot:
    cmd: python -m dvc_workshop.pipeline.plot.ploting
    deps:
    - path: data/train/train_history.csv
      md5: 3903a22ad906c10b8f7221be0242c577
      size: 5695
    - path: dvc_workshop/pipeline/plot
      md5: 09f56012aa00e7fbfcdc2053e68ddcf0.dir
      size: 8029
      nfiles: 7
    outs:
    - path: data/plot
      md5: 64e575c19e158f85d5629b959a41d9db.dir
      size: 180017
      nfiles: 1
