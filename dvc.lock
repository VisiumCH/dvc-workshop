schema: '2.0'
stages:
  preprocess:
    cmd: python -m dvc_workshop.pipeline.preprocess.preprocessing
    deps:
    - path: data/raw
      md5: 0641ad08acb35ebe3040a4d3810f4859.dir
      size: 313484
      nfiles: 1001
    - path: dvc_workshop/pipeline/preprocess
      md5: ef365f26c4bcd82f5194949e607f1770.dir
      size: 19484
      nfiles: 10
    params:
      dvc_workshop/params.py:
        PreprocessParams:
          LOWER_BOUND_COLOR:
          - 0
          - 0
          - 200
          UPPER_BOUND_COLOR:
          - 0
          - 0
          - 255
          THRESHOLD: 0.005
    outs:
    - path: data/preprocess
      md5: 520064004782c05aff7ea224969ab8f3.dir
      size: 340290
      nfiles: 1003
  train:
    cmd: python -m dvc_workshop.pipeline.train.training
    deps:
    - path: data/preprocess
      md5: 520064004782c05aff7ea224969ab8f3.dir
      size: 340290
      nfiles: 1003
    - path: dvc_workshop/pipeline/train
      md5: 654da87c192a2ce4b8494bae3c858b0a.dir
      size: 10536
      nfiles: 8
    params:
      dvc_workshop/params.py:
        ModelParams:
          IMAGE_HEIGHT: 28
          IMAGE_WIDTH: 28
          COLOR_TYPE: grayscale
          NUMBER_CHANNELS: 1
          POOLING: max
          ACTIVATION: softmax
          TOP: false
        TrainingParams:
          BACTH_SIZE: 32
          SEED: 42
          TRAINING_EPOCHS: 30
          TRAINING_LR: 0.001
          TUNING_EPOCHS: 1
          TUNING_LR: 1e-05
          PATIENCE: 5
    outs:
    - path: data/train/
      md5: 827ebfbf9a580eb84be23928b4992405.dir
      size: 1067027
      nfiles: 7
  evaluate:
    cmd: python -m dvc_workshop.pipeline.evaluate.evaluation
    deps:
    - path: data/preprocess
      md5: 520064004782c05aff7ea224969ab8f3.dir
      size: 340290
      nfiles: 1003
    - path: data/train
      md5: 827ebfbf9a580eb84be23928b4992405.dir
      size: 1067027
      nfiles: 7
    - path: dvc_workshop/pipeline/evaluate/
      md5: e2dd5c834060f042328fa4543cde4048.dir
      size: 4126
      nfiles: 8
    outs:
    - path: data/evaluate
      md5: 1f319c470f34a489e59674741e273958.dir
      size: 186
      nfiles: 1
  plot:
    cmd: python -m dvc_workshop.pipeline.plot.ploting
    deps:
    - path: data/train/train_history.csv
      md5: 43ca672142162d3c531edc17b1262dff
      size: 5787
    - path: dvc_workshop/pipeline/plot
      md5: 09f56012aa00e7fbfcdc2053e68ddcf0.dir
      size: 8029
      nfiles: 7
    outs:
    - path: data/plot
      md5: d981c3cae3b985ec505c5ccddb08c848.dir
      size: 218793
      nfiles: 1
